<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />

  <title>SuccessPointRajasthan</title>
  <meta content="" name="description" />
  <meta content="" name="keywords" />

  <!-- Favicons -->
  <link href="assets/img/SuccessPointRajasthanlogo.png" rel="icon" />
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet" />

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet" />
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

  <!--   Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet" />
  <link href="assets/css/slider.css" rel="stylesheet" />

</head>


<body>


  <!-- ========= Not Login Page code ================ -->

  <app-NotLoginIndexPage></app-NotLoginIndexPage>


  <!-- ========= Not Login Page code Ends ================ -->


  <app-footer></app-footer>
  <!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i>
  </a>


  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.js"></script>


  <!--   Main JS File -->


  <script defer src="assets/js/main.js"></script>
  <script src="assets/js/MyComponents.js"></script>

  <script>
    function validateForm(event) {
      let length = event.target.value.length;
      let email = document.getElementById("email").value;
      if (event.target.id === "email") {
        $("#email").removeClass("is-invalid");
        emailError.innerHTML = "";
      }

      email = email.trim();
      document.getElementById("email").value = email;
      if (event.target.value[length - 1] === " ") {
        let value = event.target.value;
        value = value.trim();
        value = value + " ";
        event.target.value = value;
      }

      let fname = event.target.value;
      fname = fname.trimStart();
      event.target.value = fname;
      removeInvalidClass();

    }
    function removeInvalidClass() {
      let fname = document.getElementById("name").value;
      fname = fname.trim();
      let company = document.getElementById("Company").value;
      company = company.trim();
      let email = document.getElementById("email").value;
      email = email.trim();
      let phone = document.getElementById("Message").value;
      phone = phone.trim();
      let mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
      fNameError = document.getElementById("nameErr");
      phoneError = document.getElementById("textErr");
      companyError = document.getElementById("companyErr");
      emailError = document.getElementById("emailErr");
      if (
        fname.length > 0 &&
        $("#name").hasClass("is-invalid")
      ) {
        $("#name").removeClass("is-invalid");
        fNameError.innerHTML = "";
      }
      //console.log(mailformat.test(document.getElementById("email").value));
      if (
        email.length > 0 &&
        mailformat.test(document.getElementById("email").value)
      ) {
        $("#email").removeClass("is-invalid");
        emailError.innerHTML = "";
      }

      if (phone.length > 0 && $("#Message").hasClass("is-invalid")) {
        $("#Message").removeClass("is-invalid");
        phoneError.innerHTML = "";
      }

      if (company.length > 0 && $("#Company").hasClass("is-invalid")) {
        $("#Company").removeClass("is-invalid");
        companyError.innerHTML = "";
      }
    }
    function removeExtraSpaces() {
      let fname = document.getElementById("name").value;
      let Company = document.getElementById("Company").value;
      let Message = document.getElementById("Message").value;
      let Email = document.getElementById("email").value;

      fname = fname.replace(/\s+/g, " ").trim();
      Company = Company.replace(/\s+/g, " ").trim();
      Message = Message.replace(/\s+/g, " ").trim();
      Email = Email.replace(/\s+/g, " ").trim();
      document.getElementById("name").value = fname;
      document.getElementById("Company").value = Company;
      document.getElementById("Message").value = Message;
      document.getElementById("email").value = Email;
    }
    $(document).ready(function () {
      $(".customer-logos").slick({
        slidesToShow: 6,
        slidesToScroll: 1,
        autoplay: true,
        autoplaySpeed: 500,
        arrows: false,
        dots: false,
        pauseOnHover: false,
        responsive: [
          {
            breakpoint: 768,
            settings: {
              slidesToShow: 4,
            },
          },
          {
            breakpoint: 520,
            settings: {
              slidesToShow: 3,
            },
          },
        ],
      });
    });
  </script>
  <script>
    function validateBeforeSubmit() {
      let fname = document.getElementById("name").value;
      fname = fname.trim();
      let company = document.getElementById("Company").value;
      company = company.trim();
      let email = document.getElementById("email").value;
      email = email.trim();
      let phone = document.getElementById("Message").value;
      phone = phone.trim();
      let mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
      fNameError = document.getElementById("nameErr");
      phoneError = document.getElementById("textErr");
      companyError = document.getElementById("companyErr");
      emailError = document.getElementById("emailErr");
      if (fname.length < 1) {
        $("#name").addClass("is-invalid");
        fNameError.innerHTML = "Please enter Name\r\n";
      } else if (
        fname.length > 0 &&
        $("#name").hasClass("is-invalid")
      ) {
        $("#name").removeClass("is-invalid");
        fNameError.innerHTML = "";
      }
      //console.log(mailformat.test(document.getElementById("email").value));
      if (
        email.length < 1 ||
        !mailformat.test(document.getElementById("email").value)
      ) {
        $("#email").addClass("is-invalid");

        if (email.length == 0) {
          emailError.innerHTML = "Please enter Email\r\n";
        } else {
          emailError.innerHTML = "Please Enter valid Email\r\n";
        }
      } else if (
        email.length > 0 &&
        mailformat.test(document.getElementById("email").value)
      ) {
        $("#email").removeClass("is-invalid");
        emailError.innerHTML = "";
      }

      if (phone.length === 0) {
        $("#Message").addClass("is-invalid");
        phoneError.innerHTML = "Please enter some Text\r\n";
      } else if (phone.length > 0 && $("#Message").hasClass("is-invalid")) {
        $("#Message").removeClass("is-invalid");
        phoneError.innerHTML = "";
      }

      if (company.length < 1) {
        $("#Company").addClass("is-invalid");
        companyError.innerHTML = "Please enter Company name\r\n";
      } else if (company.length > 0 && $("#Company").hasClass("is-invalid")) {
        $("#Company").removeClass("is-invalid");
        companyError.innerHTML = "";
      }

      if (
        !(
          $("#Company").hasClass("is-invalid") ||
          $("#Message").hasClass("is-invalid") ||
          $("#email").hasClass("is-invalid") ||
          $("#name").hasClass("is-invalid")
        )
      ) {
        createRequestLead();
      }
    }
    function createRequestLead() {
      let fname = document.getElementById('name').value
      let Company = document.getElementById('Company').value
      let Message = document.getElementById('Message').value
      let Email = document.getElementById('email').value
      document.getElementById('submitButton').disabled = true //disableButton
      fname = fname.trim()
      Email = Email.trim()
      Message = Message.trim()
      Company = Company.trim()
      var myHeaders = new Headers();
      myHeaders.append("Content-Type", "application/json");
      myHeaders.append("Cookie", "BrowserId=g1Zrr_uOEe2gTR9C7VyOiA; CookieConsentPolicy=0:1; LSKey-c$CookieConsentPolicy=0:1");

      var raw = JSON.stringify({
        "LastName": fname,
        "Company": Company,
        "Message": Message,
        "Email": Email,
        "requestDemo": "requestDemoLead"
      });

      var requestOptions = {
        method: 'POST',
        headers: myHeaders,
        body: raw,
        redirect: 'follow'
      };

      fetch("https://cloudie.my.salesforce-sites.com/InternalApps/services/apexrest/verifyOtpdata", requestOptions)
        .then(response => response.json())
        .then(result => {
          if (result === 'Lead Inserted Successfully') {
            callToast()
            document.getElementById('name').value = ''
            document.getElementById('Company').value = ''
            document.getElementById('Message').value = ''
            document.getElementById('email').value = ''
            document.getElementById('submitButton').disabled = false
          }
          else {
            callError()
            document.getElementById('submitButton').disabled = false
          }


        })
        .catch(error => {
          console.log('error', error)
          callError()
          document.getElementById('submitButton').disabled = false
        });

    }
  </script>
</body>

</html>